# This directory contains the source code for the FPGA testing.

The directory structure is as follows:
- `final_system`: was a first attempt to build a system which can be used to test the FPGA. It contains the source code for the system. The system is not working and is not used anymore because it is too big for the DE2-115.
- `id*`: system built for one particular patient. Those are the ones actually tested on the FPGA. Their structure is explained below.
- `rs232_intel_comp`: test to do the communication between the FPGA and MATLAB via the RS232 port. It is not used anymore. Its structure is similar to the `id*` ones.

Two files are added:
- `DE2_115_pin_assignments.csv`: contains the pin assignments for the DE2-115 board.
- `top_level.vhd`: contains a basic top level module for the system. It is used to test the system on the FPGA.

## Structure of the `id*` folders
One can go look inot the project `id3` to see how the system is built. The structure would be the same for all the projects. In the others, I left only the source code and removed the Quartus and Eclipse project files. The reason is that the Quartus project files are quite big and the Eclipse project files are not necessary to understand how the system is built.
The structure of the `id*` folders is as follows:
- `nios`: contains the source C code for the system. The structure is:
    - `application`: contains the source code for the NIOS II processor.
    - `id*_predictor_bsp`: contains the source code for the NIOS II BSP.
- `quartus`: contains the source code for the FPGA. The structure is:
    - `hdl`: contains the VHDL code for the FPGA, including the one generated by HDL Coder and the one I wrote.
    - `system`: Files built by QSys which includes the VHDL instantiation of the full system.
    - Different files generated by Quartus II including the QPF to open the project in Quartus II an the sopcinfo for Eclipse.

To better understand how one project is build and tested, it is first explained in the `id3/quartus` folder how it is build and then in the `id3/nios` folder how it is tested.

When creating a new project, a good practice is to create the previously mentionned structure.